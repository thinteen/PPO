**Дата:** 2023-12-13

Автор: Качтов Егор Сергеевич

**Статус:** Готово к проверке

**Контекст:**

При проектировании системы для медицинского учреждения необходимо тщательно выбрать архитектуру, учитывая критерии, такие как масштабируемость, стабильность, скорость разработки и простота внесения изменений.

**Рассмотренные варианты при выборе архитектуры:**

1. Модульный монолит - это архитектура, в которой все компоненты приложения находятся в одном монолитном блоке. Все части приложения разрабатываются и поддерживаются как единое целое. Это означает, что все компоненты находятся в одном репозитории и выполняются в рамках одной процессорной среды.
2. Микросервисы - представляют собой архитектуру, в которой приложение состоит из отдельных независимых сервисов. Каждый сервис может быть разработан и поддерживаться отдельно, и они могут взаимодействовать друг с другом через API или сообщения. 

**Решение:** выбран модульный монолит.

**Обоснование:**

1. Легче создавать и поддерживать: Модульный монолит представляет собой единое приложение, где все компоненты находятся в одном месте. Это упрощает создание и поддержку кода, так как не требуется настройка и управление несколькими сервисами и их взаимосвязями.

2. Более высокая производительность: Поскольку все компоненты находятся в одном месте, модульный монолит может работать быстрее, чем микросервисы. Нет необходимости тратить время на коммуникацию между различными сервисами, что улучшает общую производительность приложения.

3. Меньше сложность: Модульный монолит обычно менее сложен, чем микросервисы. Это делает его более понятным и легким в использовании для разработчиков, а также упрощает поддержку и модификацию кода.

4. Удобство тестирования: Весь код находится в одном месте в модульном монолите, что значительно упрощает тестирование. Тесты можно запускать непосредственно в приложении, и нет необходимости настраивать и управлять тестами для каждого отдельного сервиса.

5. Меньше затрат на инфраструктуру: Модульный монолит требует меньше затрат на инфраструктуру по сравнению с микросервисами. Не требуется дополнительная инфраструктура и сервисы для коммуникации между различными компонентами.

6. Более простое масштабирование: Модульный монолит легче масштабировать, так как все компоненты находятся в одном месте. Изменение и добавление новых компонентов или функций происходит в рамках одного приложения, что упрощает процесс масштабирования.

7. Более быстрый процесс разработки: Модульный монолит позволяет быстрее разрабатывать код, так как не требуется дополнительное время на создание и поддержку отдельных сервисов. Все компоненты находятся в одном месте, что ускоряет разработку и сокращает время до запуска приложения.

8. Меньше зависимости: Модульный монолит менее зависим от внешних факторов, таких как другие сервисы или базы данных. Все компоненты находятся в одном месте, что делает приложение более самостоятельным и устойчивым к изменениям в других сервисах.

9. Более стабильная работа: Модульный монолит обычно более стабилен, чем микросервисы. Отсутствие зависимости от работы других сервисов уменьшает риск сбоев и проблем с доступностью приложения.

10. Лучшая безопасность: Модульный монолит может быть более безопасным, так как все компоненты находятся в одном месте и легче контролируются и защищаются. Управление безопасностью и аутентификацией осуществляется на уровне приложения, что упрощает обеспечение безопасности и защиту данных.

Недостатки выбранной архитектуры:

1. Менее гибкий: Модульный монолит менее гибкий, чем микросервисы. Изменение или добавление новых компонентов может потребовать изменения всего приложения, что может быть сложнее и требовать больше времени.

2. Менее масштабируемый: Модульный монолит может быть менее масштабируемым, так как изменение или добавление новых компонентов может потребовать изменения всей системы. В отличие от микросервисов, где можно масштабировать отдельные сервисы независимо.

3. Большая связанность: Модульный монолит имеет большую связанность между компонентами, что делает его более зависимым от других компонентов. Это может усложнить разработку и поддержку, а также увеличить риск сбоев и проблем с доступностью.

4. Более сложное тестирование: Модульный монолит может быть более сложным в тестировании, так как все компоненты находятся в одном месте. Тестирование может потребовать больше времени и усилий для настройки и управления тестами для каждого отдельного компонента.

5. Большая сложность: Модульный монолит может быть более сложным в разработке и поддержке, так как все компоненты находятся в одном месте и требуют более тщательного планирования и управления.

6. Меньшая независимость: Модульный монолит менее независим от внешних факторов, таких как другие сервисы или базы данных. Все компоненты находятся в одном месте, что делает приложение более зависимым от других компонентов.

7. Большая связанность: Модульный монолит имеет большую связанность между компонентами, что может усложнить поддержку и модификацию кода. Изменение одного компонента может потребовать изменения других компонентов, что может быть более трудоемким.

8. Большая сложность в управлении версиями: Модульный монолит может быть более сложным в управлении версиями, так как все компоненты находятся в одном месте. Изменение одного компонента может потребовать изменения других компонентов, что может усложнить управление версиями.

9. Большая связанность с инфраструктурой: Модульный монолит требует больше затрат на инфраструктуру по сравнению с микросервисами. Не требуется дополнительная инфраструктура и сервисы для коммуникации между различными компонентами.

10. Большая связанность с тестированием и развертыванием: Модульный монолит может быть более связанным с тестированием и развертыванием, так как все компоненты находятся в одном месте. Изменение или добавление новых компонентов может потребовать изменения процесса тестирования и развертывания.

**Последствия:**

Для минимизации негативных последствий от возможных критических багов при деплое программного продукта важно правильно выбирать время для этого процесса. В случае обнаружения критичных багов в новой версии приложения, нужно иметь возможность быстро откататься к предыдущей рабочей версии. Таким образом, во время деплоя следует учитывать временной интервал, в течение которого вероятность возникновения критических багов минимальна.

Кроме того, важно грамотно формулировать задачи перед командой разработки. Каждая задача должна иметь четко определенные границы и блокеры, чтобы команда могла корректно оценить объем работы и свои возможности. Дисциплина и понимание командой границ выполняемых задач помогают ускорить процесс разработки и избежать непредвиденных задержек.